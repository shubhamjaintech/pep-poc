<div>
      <h2>Register New Service</h2>

      <form [formGroup]="serviceForm" (ngSubmit)="onSubmit()" style="max-width: 600px;">
        
        <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ddd;">
          <legend>Customer Information</legend>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
            <div>
              <label>First Name*</label>
              <input formControlName="firstName" style="width: 100%; padding: 8px;">
              <div *ngIf="serviceForm.get('firstName')?.invalid && serviceForm.get('firstName')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
            <div>
              <label>Last Name*</label>
              <input formControlName="lastName" style="width: 100%; padding: 8px;">
              <div *ngIf="serviceForm.get('lastName')?.invalid && serviceForm.get('lastName')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
          </div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
            <div>
              <label>Email*</label>
              <input type="email" formControlName="email" style="width: 100%; padding: 8px;">
              <div *ngIf="serviceForm.get('email')?.invalid && serviceForm.get('email')?.touched" 
                   style="color: red; font-size: 12px;">Valid email required</div>
            </div>
            <div>
              <label>Phone*</label>
              <input formControlName="phone" style="width: 100%; padding: 8px;">
              <div *ngIf="serviceForm.get('phone')?.invalid && serviceForm.get('phone')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
          </div>
        </fieldset>

        <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ddd;">
          <legend>Vehicle Information</legend>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
            <div>
              <label>Year*</label>
              <select formControlName="year" style="width: 100%; padding: 8px;">
                <option value="">Select Year</option>
                <option *ngFor="let year of years" [value]="year">{{ year }}</option>
              </select>
              <div *ngIf="serviceForm.get('year')?.invalid && serviceForm.get('year')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
            <div>
              <label>Make*</label>
              <select formControlName="make" style="width: 100%; padding: 8px;">
                <option value="">Select Make</option>
                <option *ngFor="let make of makes" [value]="make">{{ make }}</option>
              </select>
              <div *ngIf="serviceForm.get('make')?.invalid && serviceForm.get('make')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
            <div>
              <label>Model*</label>
              <input formControlName="model" style="width: 100%; padding: 8px;" placeholder="Model">
              <div *ngIf="serviceForm.get('model')?.invalid && serviceForm.get('model')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
          </div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div>
              <label>License Plate*</label>
              <input formControlName="licensePlate" style="width: 100%; padding: 8px;">
              <div *ngIf="serviceForm.get('licensePlate')?.invalid && serviceForm.get('licensePlate')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
            <div>
              <label>Mileage*</label>
              <input type="number" formControlName="mileage" style="width: 100%; padding: 8px;">
              <div *ngIf="serviceForm.get('mileage')?.invalid && serviceForm.get('mileage')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
          </div>
        </fieldset>

        <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ddd;">
          <legend>Service Details</legend>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
            <div>
              <label>Service Type*</label>
              <select formControlName="serviceType" style="width: 100%; padding: 8px;">
                <option value="">Select Service</option>
                <option value="oil-change">Oil Change</option>
                <option value="tire-service">Tire Service</option>
                <option value="brake-repair">Brake Repair</option>
                <option value="engine-repair">Engine Repair</option>
                <option value="battery-replacement">Battery Replacement</option>
                <option value="inspection">Inspection</option>
              </select>
              <div *ngIf="serviceForm.get('serviceType')?.invalid && serviceForm.get('serviceType')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
            <div>
              <label>Priority*</label>
              <select formControlName="priority" style="width: 100%; padding: 8px;">
                <option value="">Select Priority</option>
                <option value="low">Low</option>
                <option value="medium">Medium</option>
                <option value="high">High</option>
                <option value="urgent">Urgent</option>
              </select>
              <div *ngIf="serviceForm.get('priority')?.invalid && serviceForm.get('priority')?.touched" 
                   style="color: red; font-size: 12px;">Required</div>
            </div>
          </div>

          <div style="margin-bottom: 15px;">
            <label>Description</label>
            <textarea formControlName="description" 
                      style="width: 100%; padding: 8px; height: 80px;" 
                      placeholder="Describe the issue or service needed"></textarea>
          </div>

          <div>
            <label>Estimated Cost*</label>
            <input type="number" step="0.01" formControlName="cost" style="width: 200px; padding: 8px;">
            <div *ngIf="serviceForm.get('cost')?.invalid && serviceForm.get('cost')?.touched" 
                 style="color: red; font-size: 12px;">Required</div>
          </div>
        </fieldset>

        <div *ngIf="error()" style="color: red; margin-bottom: 15px;">
          {{ error() }}
        </div>

        <div>
          <button type="submit" 
                  [disabled]="serviceForm.invalid || loading()"
                  style="padding: 12px 24px; background: #28a745; color: white; border: none; margin-right: 10px;">
            {{ loading() ? 'Registering...' : 'Register Service' }}
          </button>
          
          <button type="button" 
                  (click)="cancel()"
                  style="padding: 12px 24px; background: #6c757d; color: white; border: none;">
            Cancel
          </button>
        </div>
      </form>
    </div>